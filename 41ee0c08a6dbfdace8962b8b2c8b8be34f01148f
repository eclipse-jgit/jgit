{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "345785f5_1365fba1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 7,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "Implement a cached RefDirectory for use in request scope",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 48
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "05092c9f_3e54add0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 7,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "345785f5_1365fba1",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 48
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3c86bbb_ee260bd0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 9,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "CachedRefDirectory",
      "range": {
        "startLine": 9,
        "startChar": 13,
        "endLine": 9,
        "endChar": 41
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "61594fee_23a66657",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 9,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a3c86bbb_ee260bd0",
      "range": {
        "startLine": 9,
        "startChar": 13,
        "endLine": 9,
        "endChar": 41
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a14a12f0_38a7dd0b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 10,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "cache",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 3
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fbd5a9b5_ef2afdd9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 15
      },
      "lineNbr": 10,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a14a12f0_38a7dd0b",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 3
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d597bcdf_89b11436",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-14T16:17:51Z",
      "side": 1,
      "message": "trigger build",
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "be8ae5d6_417f327a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "sorry for the long wait, I was pretty swamped in the last weeks",
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "283b51ba_ae69726e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "No problem. We really appreciate your review and understand that these changes are not easy to review.",
      "parentUuid": "be8ae5d6_417f327a",
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "63b2ee71_ad27c090",
        "filename": "org.eclipse.jgit.test/tst/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshotTest.java",
        "patchSetId": 15
      },
      "lineNbr": 23,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "CachedRefDirectoryTest",
      "range": {
        "startLine": 23,
        "startChar": 13,
        "endLine": 23,
        "endChar": 45
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aacd89b1_6ba7c3a2",
        "filename": "org.eclipse.jgit.test/tst/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshotTest.java",
        "patchSetId": 15
      },
      "lineNbr": 23,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "63b2ee71_ad27c090",
      "range": {
        "startLine": 23,
        "startChar": 13,
        "endLine": 23,
        "endChar": 45
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "211e9ba8_5ce92133",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectory.java",
        "patchSetId": 15
      },
      "lineNbr": 244,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "createCachedRefDirectory",
      "range": {
        "startLine": 244,
        "startChar": 37,
        "endLine": 244,
        "endChar": 59
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e2aead43_9a97b0f4",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectory.java",
        "patchSetId": 15
      },
      "lineNbr": 244,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "211e9ba8_5ce92133",
      "range": {
        "startLine": 244,
        "startChar": 37,
        "endLine": 244,
        "endChar": 59
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "56a08f55_45eefbad",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 24,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "Cached",
      "range": {
        "startLine": 24,
        "startChar": 3,
        "endLine": 24,
        "endChar": 28
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "01931d79_7e48b901",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 24,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "56a08f55_45eefbad",
      "range": {
        "startLine": 24,
        "startChar": 3,
        "endLine": 24,
        "endChar": 28
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "867c888f_7ab37bb9",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 26,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "I would emphasise that this is intended for request scoped caching.\nHow about this?\n\nThis cached ref directory is intended to be used for short-term caching in request scope",
      "range": {
        "startLine": 26,
        "startChar": 3,
        "endLine": 26,
        "endChar": 38
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6cf8513c_11855e22",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 26,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "867c888f_7ab37bb9",
      "range": {
        "startLine": 26,
        "startChar": 3,
        "endLine": 26,
        "endChar": 38
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "66dd49f6_714bfc23",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 27,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "cache",
      "range": {
        "startLine": 27,
        "startChar": 41,
        "endLine": 27,
        "endChar": 49
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "98c2d5e5_8aa5928e",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 27,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "66dd49f6_714bfc23",
      "range": {
        "startLine": 27,
        "startChar": 41,
        "endLine": 27,
        "endChar": 49
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e26675ba_f40dfbad",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 29,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "this sounds like an oxymoron, I think CachedRefDirectory is a better fit",
      "range": {
        "startLine": 29,
        "startChar": 6,
        "endLine": 29,
        "endChar": 34
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0d5572b1_796829a8",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 29,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done. We are OK with either name, however, we preferred to name it a writable snapshot as it seemed to fit better and the concept of a writable snapshot exists (for example in https://en.wikipedia.org/wiki/Logical_Volume_Manager_(Linux) where they mention \u0027read/write snapshots (LVM2)\u0027). Also, RefDirectory is in itself is already a cache (that knows how to detect stale refs and update them), so CachedRefDirectory does not clearly denote the difference from the existing caching policies in RefDirectory. Snapshot in the name seemed apt as it is intended to avoid getting updated in a request unless a write is performed using the snapshot (or when external writes from the snapshot would prevent writes in the snapshot from succeeding due to them being outdated). I have added some of this now to the javadoc of this class.",
      "parentUuid": "e26675ba_f40dfbad",
      "range": {
        "startLine": 29,
        "startChar": 6,
        "endLine": 29,
        "endChar": 34
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a6484f88_037cc99b",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 29,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-29T20:18:50Z",
      "side": 1,
      "message": "I wasn\u0027t aware of LVM2 read/write snapshots.\nWould RequestScopedRefCache be a better name ?\nThe additional javadoc helps a lot to understand the use cases this is meant for.",
      "parentUuid": "0d5572b1_796829a8",
      "range": {
        "startLine": 29,
        "startChar": 6,
        "endLine": 29,
        "endChar": 34
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b735589d_26b69f62",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 29,
      "author": {
        "id": 5082
      },
      "writtenOn": "2023-03-29T21:25:27Z",
      "side": 1,
      "message": "\u003e Would RequestScopedRefCache be a better name ?\n\nMy concerns with that name are:\n\n1) Using \"request\" in the name feels miss-leading because there is nothing in the class that ties it to a request. Using this during a request is mainly a potential desirable use case, but there could be others (it can be used for background operations not tied to a request also), and not something about the class itself. i.e. I think it\u0027s more important to highlight the properties of the class (behavior) of the class in the name, and not the uses. I\u0027m sorry we are being so picky, we really our trying to be useful.\n\n2) We thought it was important to use RefDirectory (not that I love that classname) because it only works for a RefDirectory, and it does not work for other RefDatabases. However, I certainly don\u0027t feel like this is a big issue.\n\nHere are some criteria I think matter for this name:\n\n1) It\u0027s behavior should must be differentiable by name from RefDirectory (which already does cache refs)\n2) It should imply that it is RefDirectory specific (and not generic to any RefDatabase)\n3) It is better if not named after its use case, but rather after properties of the class\n3.a) ideally that property reflects behavior\n3.a.i) the specific behavior is that it generally only gets updated by updates through the class itself.\n\nSome other suggestions I like:\n\nSnapshottingRefDirectory\nSnapshottingRefDirectoryCache\nScopedRefDirectoryCache (not great since it is use case based)\n\nBut if we can\u0027t find a great name, it might be simplest to settle for:\n\nRefDirectoryCache",
      "parentUuid": "a6484f88_037cc99b",
      "range": {
        "startLine": 29,
        "startChar": 6,
        "endLine": 29,
        "endChar": 34
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5eb461ff_fc7d4029",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 29,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-29T22:53:57Z",
      "side": 1,
      "message": "I am ok with that proposal\n\nI would now also accept something like RefDirectoryRWSnapshot since I learnt read/write snapshots are already a thing, if we choose that we should add a link to that existing concept in the javadoc",
      "parentUuid": "b735589d_26b69f62",
      "range": {
        "startLine": 29,
        "startChar": 6,
        "endLine": 29,
        "endChar": 34
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6098b922_c7cac7af",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 29,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T23:57:30Z",
      "side": 1,
      "message": "Alright, we\u0027ll go with SnapshottingRefDirectory unless you have any objections to it.",
      "parentUuid": "5eb461ff_fc7d4029",
      "range": {
        "startLine": 29,
        "startChar": 6,
        "endLine": 29,
        "endChar": 34
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3c450b7e_ffd6bb03",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 32,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "isValid",
      "range": {
        "startLine": 32,
        "startChar": 26,
        "endLine": 32,
        "endChar": 46
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bf6edd9f_0d95c55b",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 32,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3c450b7e_ffd6bb03",
      "range": {
        "startLine": 32,
        "startChar": 26,
        "endLine": 32,
        "endChar": 46
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f23aceb8_785d45ea",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 35,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "cached",
      "range": {
        "startLine": 35,
        "startChar": 13,
        "endLine": 35,
        "endChar": 24
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fb6abeee_274e71fa",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 35,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f23aceb8_785d45ea",
      "range": {
        "startLine": 35,
        "startChar": 13,
        "endLine": 35,
        "endChar": 24
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "265f228f_0a961a49",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 108,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "invalidateCache",
      "range": {
        "startLine": 108,
        "startChar": 19,
        "endLine": 108,
        "endChar": 37
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "64eedc99_80ab8b5d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 108,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "265f228f_0a961a49",
      "range": {
        "startLine": 108,
        "startChar": 19,
        "endLine": 108,
        "endChar": 37
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9c93ca30_7d008548",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 113,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "the cache",
      "range": {
        "startLine": 113,
        "startChar": 12,
        "endLine": 113,
        "endChar": 24
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4c560433_c6e51922",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 113,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9c93ca30_7d008548",
      "range": {
        "startLine": 113,
        "startChar": 12,
        "endLine": 113,
        "endChar": 24
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1c183c28_e9c417f7",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 117,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "I don\u0027t understand this, doesn\u0027t this risk races ?",
      "range": {
        "startLine": 116,
        "startChar": 63,
        "endLine": 117,
        "endChar": 66
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a1607531_a2847554",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 117,
      "author": {
        "id": 5082
      },
      "writtenOn": "2023-03-29T18:13:27Z",
      "side": 1,
      "message": "\u003e I don\u0027t understand this, doesn\u0027t this risk races ?\n\nI am not seeing any since we are not actually doing the update for the outer class directly, we are simply calling it\u0027s own getPackedRefs() method which should do that update safely if it is needed. What did you have in mind?",
      "parentUuid": "1c183c28_e9c417f7",
      "range": {
        "startLine": 116,
        "startChar": 63,
        "endLine": 117,
        "endChar": 66
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b47b5e2d_dbb1b59a",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 117,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-29T20:18:50Z",
      "side": 1,
      "message": "I think I got it now, what distracted me was that this javadoc mentions an outer class, which doesn\u0027t exist. I guess this was introduced when this class was an inner class of RefDirectory in an earlier patchset.\n\nHow about this:\n\nUpdate the in-memory copy of the underlying RefDirectory\u0027s packed-refs to avoid the overhead of re-reading packed-refs on each new snapshot as the packed-refs of the underlying RefDirectory may not get updated if most threads use this cache.",
      "parentUuid": "a1607531_a2847554",
      "range": {
        "startLine": 116,
        "startChar": 63,
        "endLine": 117,
        "endChar": 66
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8da34302_db706832",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 117,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-30T00:27:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b47b5e2d_dbb1b59a",
      "range": {
        "startLine": 116,
        "startChar": 63,
        "endLine": 117,
        "endChar": 66
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b480563a_7490ef08",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 121,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "refreshCache",
      "range": {
        "startLine": 121,
        "startChar": 27,
        "endLine": 121,
        "endChar": 42
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "278db2a7_02b84468",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 121,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b480563a_7490ef08",
      "range": {
        "startLine": 121,
        "startChar": 27,
        "endLine": 121,
        "endChar": 42
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "37f124bc_931fed82",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 141,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "invalidateCacheOnError",
      "range": {
        "startLine": 141,
        "startChar": 22,
        "endLine": 141,
        "endChar": 47
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "362036bc_d41bbace",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 141,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "37f124bc_931fed82",
      "range": {
        "startLine": 141,
        "startChar": 22,
        "endLine": 141,
        "endChar": 47
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "66b15901_fb6c7658",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 147,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "invalidateCacheOnError",
      "range": {
        "startLine": 147,
        "startChar": 25,
        "endLine": 147,
        "endChar": 50
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4fdd8b48_95497cfb",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 147,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "66b15901_fb6c7658",
      "range": {
        "startLine": 147,
        "startChar": 25,
        "endLine": 147,
        "endChar": 50
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cacb6877_feb88a58",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 158,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "invalidateCacheOnError",
      "range": {
        "startLine": 158,
        "startChar": 34,
        "endLine": 158,
        "endChar": 59
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d0f532f3_67c897f6",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 158,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cacb6877_feb88a58",
      "range": {
        "startLine": 158,
        "startChar": 34,
        "endLine": 158,
        "endChar": 59
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f61f3e51_fbdea544",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 169,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "CachedRefDirectoryUpdate",
      "range": {
        "startLine": 169,
        "startChar": 22,
        "endLine": 169,
        "endChar": 48
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "383a2a17_49e2db85",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 169,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f61f3e51_fbdea544",
      "range": {
        "startLine": 169,
        "startChar": 22,
        "endLine": 169,
        "endChar": 48
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dcb66dfb_bd4ad584",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 211,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "CachedRefDirectoryRename",
      "range": {
        "startLine": 211,
        "startChar": 22,
        "endLine": 211,
        "endChar": 48
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1864feca_a86a23f1",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 211,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dcb66dfb_bd4ad584",
      "range": {
        "startLine": 211,
        "startChar": 22,
        "endLine": 211,
        "endChar": 48
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06109682_941554a6",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 224,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-03-28T22:38:51Z",
      "side": 1,
      "message": "CachedPackedBatchRefUpdate",
      "range": {
        "startLine": 224,
        "startChar": 22,
        "endLine": 224,
        "endChar": 50
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b5526bce_7a4bab96",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/RefDirectoryWritableSnapshot.java",
        "patchSetId": 15
      },
      "lineNbr": 224,
      "author": {
        "id": 301453
      },
      "writtenOn": "2023-03-29T19:16:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "06109682_941554a6",
      "range": {
        "startLine": 224,
        "startChar": 22,
        "endLine": 224,
        "endChar": 50
      },
      "revId": "41ee0c08a6dbfdace8962b8b2c8b8be34f01148f",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    }
  ]
}