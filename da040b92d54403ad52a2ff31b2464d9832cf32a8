{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "7e2380c9_521dbae7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-17T17:31:53Z",
      "side": 1,
      "message": "Currently not working",
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "60bed3cc_e52158e7",
        "filename": "org.eclipse.jgit.gpg.bc/resources/META-INF/services/org.eclipse.jgit.lib.GpgSignatureVerifierFactory",
        "patchSetId": 3
      },
      "lineNbr": 1,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-17T18:40:40Z",
      "side": 1,
      "message": "Add here the full class name (with package) of the new CMS X.509 signature verifier factory",
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "226ae652_ad9c10b1",
        "filename": "org.eclipse.jgit.gpg.bc/resources/META-INF/services/org.eclipse.jgit.lib.GpgSignatureVerifierFactory",
        "patchSetId": 3
      },
      "lineNbr": 1,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-17T20:01:07Z",
      "side": 1,
      "message": "```suggestion\norg.eclipse.jgit.gpg.bc.internal.BouncyCastleGpgSignatureVerifierFactory\norg.eclipse.jgit.gpg.bc.internal.BouncyCastleCMSSignatureVerifierFactory\n```",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 1,
        "endChar": 72
      },
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7426279d_bd425533",
        "filename": "org.eclipse.jgit.gpg.bc/src/org/eclipse/jgit/gpg/bc/internal/BouncyCastleGpgSignatureVerifier.java",
        "patchSetId": 3
      },
      "lineNbr": 52,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-17T17:31:53Z",
      "side": 1,
      "message": "This needs to be pulled into a new BouncyCastleAbstractGpgSignatureVerifier, so that can be reused also in the BouncyCastleSMIMESignatureVerifier.",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 52,
        "endChar": 2
      },
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d12cfaad_667e884d",
        "filename": "org.eclipse.jgit.gpg.bc/src/org/eclipse/jgit/gpg/bc/internal/BouncyCastleGpgSignatureVerifier.java",
        "patchSetId": 3
      },
      "lineNbr": 52,
      "author": {
        "id": 1020677
      },
      "writtenOn": "2024-04-17T18:03:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7426279d_bd425533",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 52,
        "endChar": 2
      },
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f7e7cbf_849884dd",
        "filename": "org.eclipse.jgit.gpg.bc/src/org/eclipse/jgit/gpg/bc/internal/SMIMESignatureVerifier.java",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-17T17:13:41Z",
      "side": 1,
      "message": "Wildcard import: replace with explicit classes imports.",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 28
      },
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "49ba81f8_6ada2c35",
        "filename": "org.eclipse.jgit.gpg.bc/src/org/eclipse/jgit/gpg/bc/internal/SMIMESignatureVerifier.java",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1020677
      },
      "writtenOn": "2024-04-17T18:03:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7f7e7cbf_849884dd",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 28
      },
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "37ced8e0_73884581",
        "filename": "org.eclipse.jgit.gpg.bc/src/org/eclipse/jgit/gpg/bc/internal/SMIMESignatureVerifier.java",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-17T17:41:51Z",
      "side": 1,
      "message": "```suggestion\npublic class BouncyCastleCMSSignatureVerifier extends AbstractBouncyCastleSignatureVerifier {\n```",
      "range": {
        "startLine": 28,
        "startChar": 13,
        "endLine": 28,
        "endChar": 35
      },
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "096b589f_2a41664c",
        "filename": "org.eclipse.jgit.gpg.bc/src/org/eclipse/jgit/gpg/bc/internal/SMIMESignatureVerifier.java",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-17T17:41:51Z",
      "side": 1,
      "message": "This is actually a PKCS7 (CMS) format and not SMIME. Even though the client-side utility is called `smimesign` we do not actually encode any multi-part here.",
      "range": {
        "startLine": 28,
        "startChar": 13,
        "endLine": 28,
        "endChar": 18
      },
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "af4ecbae_87c2c3fd",
        "filename": "org.eclipse.jgit.gpg.bc/src/org/eclipse/jgit/gpg/bc/internal/SMIMESignatureVerifier.java",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1020677
      },
      "writtenOn": "2024-04-17T18:03:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "096b589f_2a41664c",
      "range": {
        "startLine": 28,
        "startChar": 13,
        "endLine": 28,
        "endChar": 18
      },
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a3e54737_4214d235",
        "filename": "org.eclipse.jgit.gpg.bc/src/org/eclipse/jgit/gpg/bc/internal/SMIMESignatureVerifier.java",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1020677
      },
      "writtenOn": "2024-04-17T18:03:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "37ced8e0_73884581",
      "range": {
        "startLine": 28,
        "startChar": 13,
        "endLine": 28,
        "endChar": 35
      },
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3e38c73e_dacd9017",
        "filename": "org.eclipse.jgit.gpg.bc/src/org/eclipse/jgit/gpg/bc/internal/SMIMESignatureVerifier.java",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-17T17:31:53Z",
      "side": 1,
      "message": "Need to register the `BC` provider in the constructor, with something like:\n\n```\n\tprivate static void registerBouncyCastleProviderIfNecessary() {\n\t\tif (Security.getProvider(BouncyCastleProvider.PROVIDER_NAME) \u003d\u003d null) {\n\t\t\tSecurity.addProvider(new BouncyCastleProvider());\n\t\t}\n\t}\n```",
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "343adc46_74e02ddd",
        "filename": "org.eclipse.jgit.gpg.bc/src/org/eclipse/jgit/gpg/bc/internal/SMIMESignatureVerifier.java",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 1020677
      },
      "writtenOn": "2024-04-17T18:03:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3e38c73e_dacd9017",
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "56a89a49_c77b4518",
        "filename": "org.eclipse.jgit.gpg.bc/src/org/eclipse/jgit/gpg/bc/internal/SMIMESignatureVerifier.java",
        "patchSetId": 3
      },
      "lineNbr": 65,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-17T17:15:17Z",
      "side": 1,
      "message": "The `CMSException` is unused. It would also make sense for now to stick with a generic _signature verification failed_ message.\n\n\n```suggestion\n        } catch (Exception e) {\n            throw new IOException(\"SMIME signature verification failed\", e);\n        }\n```",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 65,
        "endChar": 9
      },
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d3c346f8_ed2821e7",
        "filename": "org.eclipse.jgit.gpg.bc/src/org/eclipse/jgit/gpg/bc/internal/SMIMESignatureVerifier.java",
        "patchSetId": 3
      },
      "lineNbr": 65,
      "author": {
        "id": 1020677
      },
      "writtenOn": "2024-04-17T18:03:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "56a89a49_c77b4518",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 65,
        "endChar": 9
      },
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e946a3ec_8334e332",
        "filename": "org.eclipse.jgit.pgm/BUILD",
        "patchSetId": 3
      },
      "lineNbr": 26,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-17T17:13:41Z",
      "side": 1,
      "message": "Needs explicit dependency on BouncyCastle\n\n```suggestion\n        \"//org.eclipse.jgit.archive:jgit-archive\",\n        \"//org.eclipse.jgit.gpg.bc:gpg-bc\",\n```",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 26,
        "endChar": 50
      },
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "124d2ec6_8f60b133",
        "filename": "org.eclipse.jgit.pgm/BUILD",
        "patchSetId": 3
      },
      "lineNbr": 26,
      "author": {
        "id": 1020677
      },
      "writtenOn": "2024-04-17T18:04:10Z",
      "side": 1,
      "message": "How are you running this? Doesn\u0027t seem to be the case when running from the IDE.",
      "parentUuid": "e946a3ec_8334e332",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 26,
        "endChar": 50
      },
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a99acaab_64526b69",
        "filename": "org.eclipse.jgit.pgm/BUILD",
        "patchSetId": 3
      },
      "lineNbr": 26,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-17T18:40:40Z",
      "side": 1,
      "message": "This isn\u0027t actually needed if the instantiation of the factory happens in `GpgSignatureVerifierFactory` where it should be.\n\nAlso, the binding of the abstract class to the implementations should be done in:\n`org.eclipse.jgit.gpg.bc/resources/META-INF/services/org.eclipse.jgit.lib.GpgSignatureVerifierFactory`",
      "parentUuid": "e946a3ec_8334e332",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 26,
        "endChar": 50
      },
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "488bf3ca_f3611361",
        "filename": "org.eclipse.jgit.pgm/BUILD",
        "patchSetId": 3
      },
      "lineNbr": 26,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-17T20:01:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a99acaab_64526b69",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 26,
        "endChar": 50
      },
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3cfc417e_58e8f2c6",
        "filename": "org.eclipse.jgit.pgm/src/org/eclipse/jgit/pgm/Log.java",
        "patchSetId": 3
      },
      "lineNbr": 298,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-17T18:40:40Z",
      "side": 1,
      "message": "This won\u0027t work for CMS.\n\n\n```suggestion\n\t\t\t\t\t.getSignatureVerifierFactory(c);\n```",
      "range": {
        "startLine": 298,
        "startChar": 5,
        "endLine": 298,
        "endChar": 19
      },
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "18941b38_db8110d2",
        "filename": "org.eclipse.jgit.pgm/src/org/eclipse/jgit/pgm/Show.java",
        "patchSetId": 3
      },
      "lineNbr": 350,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-17T18:40:40Z",
      "side": 1,
      "message": "This logic should not be here, otherwise it cannot be reused. It should go into the `GpgSignatureVerifierFactory` and implemented as a new method.",
      "range": {
        "startLine": 337,
        "startChar": 0,
        "endLine": 350,
        "endChar": 2
      },
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5a96b81c_6742bd7b",
        "filename": "org.eclipse.jgit.pgm/src/org/eclipse/jgit/pgm/Show.java",
        "patchSetId": 3
      },
      "lineNbr": 350,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-17T20:01:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "18941b38_db8110d2",
      "range": {
        "startLine": 337,
        "startChar": 0,
        "endLine": 350,
        "endChar": 2
      },
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2fbf8252_f40c3c70",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/GpgSignatureVerifierFactory.java",
        "patchSetId": 3
      },
      "lineNbr": 74,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-17T18:40:40Z",
      "side": 1,
      "message": "Add a new factory method that can instantiate the correct factory depending on the prefix of the signed data.\n\n\n```suggestion\n\t\tpublic static GpgSignatureVerifierFactory getSignatureVerifierFactory(RevCommit commit) {\n\t\t\tbyte[] signatureData \u003d commit.getRawGpgSignature();\n\t\t\tif (signatureData !\u003d null \u0026\u0026 Arrays.equals(signatureData, 0, BEGIN_SIGNED_MESSAGE.length, BEGIN_SIGNED_MESSAGE, 0, BEGIN_SIGNED_MESSAGE.length)) {\n\t\t\t\treturn new SMIMESignatureVerifierFactory();\n\t\t\t}\n\n\t\t\treturn getDefault();\n\t\t}\n```",
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a8669e92_79f920fb",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/GpgSignatureVerifierFactory.java",
        "patchSetId": 3
      },
      "lineNbr": 74,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2024-04-17T20:01:07Z",
      "side": 1,
      "message": "This isn\u0027t a good solution though: we should rely on the Service discovery.",
      "parentUuid": "2fbf8252_f40c3c70",
      "revId": "da040b92d54403ad52a2ff31b2464d9832cf32a8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}