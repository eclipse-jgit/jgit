{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "bc833e0a_851020db",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-07-25T21:12:09Z",
      "side": 1,
      "message": "I found by bisecting the jgit history that this commit breaks the bazel build:\n\njgit ((23758d7a6...)|BISECTING)]$ bazelisk build --verbose_failures all\nINFO: Invocation ID: c0d2a59e-efd5-4127-b22c-4a337539ae96\nINFO: Analyzed target //:all (0 packages loaded, 0 targets configured).\nINFO: Found 1 target...\nERROR: /Users/xxxxxx/src/git/jgit/org.eclipse.jgit.ssh.apache/BUILD:9:13: Building org.eclipse.jgit.ssh.apache/libssh-apache-class.jar (53 source files) failed: (Exit 1): java failed: error executing command (from target //org.eclipse.jgit.ssh.apache:ssh-apache)\n  (cd /Users/xxxxxx/.cache/bazel/b645215973ac043930fa5900e337e822/execroot/jgit \u0026\u0026 \\\n  exec env - \\\n    LC_CTYPE\u003den_US.UTF-8 \\\n    PATH\u003d\u0027/Users/xxxxxx/Library/Caches/bazelisk/downloads/bazelbuild/bazel-6.2.0-darwin-arm64/bin:/opt/homebrew/opt/ruby/bin:/Users/xxxxxx/.gem/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/Users/xxxxxx/.sdkman/candidates/java/17.0.7-sapmchn/bin:/opt/homebrew/opt/findutils/libexec/gnubin:/opt/homebrew/opt/openssl@1.1/bin:/opt/homebrew/opt/curl/bin:/opt/homebrew/sbin:/opt/homebrew/opt/coreutils/libexec/gnubin:/opt/homebrew/opt/gnu-sed/libexec/gnubin:/Users/xxxxxx/bin:/opt/homebrew/bin:/opt/local/bin:/opt/local/sbin:/opt/homebrew/opt/python/libexec/bin:/Users/xxxxxx/.cargo/bin:/opt/homebrew/bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Applications/VMware Fusion.app/Contents/Public:/usr/local/go/bin:/opt/X11/bin:/Library/Apple/usr/bin:/Applications/Privileges.app/Contents/Resources:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Users/xxxxxx/.rvm/bin:/opt/homebrew/opt/fzf/bin:/Users/xxxxxx/Library/Python/2.7/bin:/Users/xxxxxx/Library/Python/3.7/bin:/Users/xxxxxx/perl5/bin:/opt/X11/bin:/Users/xxxxxx/python/gertty-env/bin:/Users/xxxxxx/src/git/gerrit-admin-scripts/sshdlog_parser:/bin:/opt/homebrew/bin/npm/bin:/opt/homebrew/node-v6.11.2-darwin-x64/bin:/Users/xxxxxx/src/go/bin:/Applications/VisualStudioCodeInsiders.app/Contents/Resources/app/bin:/Users/xxxxxx/src/git/k8s/sap/oss-tools/bin:/Users/xxxxxx/src/git/depot_tools:/usr/local/scancode-toolkit-30.1.0:/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/bin\u0027 \\\n  external/remotejdk11_macos_aarch64/bin/java -XX:-CompactStrings \u0027--add-exports\u003djdk.compiler/com.sun.tools.javac.api\u003dALL-UNNAMED\u0027 \u0027--add-exports\u003djdk.compiler/com.sun.tools.javac.main\u003dALL-UNNAMED\u0027 \u0027--add-exports\u003djdk.compiler/com.sun.tools.javac.model\u003dALL-UNNAMED\u0027 \u0027--add-exports\u003djdk.compiler/com.sun.tools.javac.processing\u003dALL-UNNAMED\u0027 \u0027--add-exports\u003djdk.compiler/com.sun.tools.javac.resources\u003dALL-UNNAMED\u0027 \u0027--add-exports\u003djdk.compiler/com.sun.tools.javac.tree\u003dALL-UNNAMED\u0027 \u0027--add-exports\u003djdk.compiler/com.sun.tools.javac.util\u003dALL-UNNAMED\u0027 \u0027--add-opens\u003djdk.compiler/com.sun.tools.javac.code\u003dALL-UNNAMED\u0027 \u0027--add-opens\u003djdk.compiler/com.sun.tools.javac.comp\u003dALL-UNNAMED\u0027 \u0027--add-opens\u003djdk.compiler/com.sun.tools.javac.file\u003dALL-UNNAMED\u0027 \u0027--add-opens\u003djdk.compiler/com.sun.tools.javac.parser\u003dALL-UNNAMED\u0027 \u0027--add-opens\u003djava.base/java.nio\u003dALL-UNNAMED\u0027 \u0027--add-opens\u003djava.base/java.lang\u003dALL-UNNAMED\u0027 \u0027-Dsun.io.useCanonCaches\u003dfalse\u0027 -Xlog:disable \u0027-Xlog:all\u003dwarning:stderr:uptime,level,tags\u0027 -jar external/remote_java_tools/java_tools/JavaBuilder_deploy.jar @bazel-out/darwin_arm64-fastbuild/bin/org.eclipse.jgit.ssh.apache/libssh-apache-class.jar-0.params @bazel-out/darwin_arm64-fastbuild/bin/org.eclipse.jgit.ssh.apache/libssh-apache-class.jar-1.params)\n",
      "revId": "23758d7a61081be4e28c9fc2a0256d7774962455",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "77a32ad9_ac5bd443",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-07-25T21:15:01Z",
      "side": 1,
      "message": "reverting this change on top of current master (c77fb9347) fixes the build failure",
      "revId": "23758d7a61081be4e28c9fc2a0256d7774962455",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1309f8b4_730f8566",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 44628
      },
      "writtenOn": "2023-07-27T18:20:14Z",
      "side": 1,
      "message": "Yes, also happens on my machine. However, this output is spectacularly unhelpful. I have no idea what bazel\u0027s problem might be, nor how to debug this.",
      "parentUuid": "bc833e0a_851020db",
      "revId": "23758d7a61081be4e28c9fc2a0256d7774962455",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f35e43d2_f7fc783a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 4
      },
      "writtenOn": "2023-07-27T18:46:22Z",
      "side": 1,
      "message": "bazel uses it\u0027s own Java distribution for building, maybe this change uses something not available in this distribution causing a crash ?\n\nWe can file an issue for bazel.",
      "parentUuid": "1309f8b4_730f8566",
      "revId": "23758d7a61081be4e28c9fc2a0256d7774962455",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    }
  ]
}