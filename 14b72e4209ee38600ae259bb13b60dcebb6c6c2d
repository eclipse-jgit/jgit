{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "9ca374fb_76503083",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 304466
      },
      "writtenOn": "2023-01-31T03:02:56Z",
      "side": 1,
      "message": "I am not very familiar with DFS, the following is my reviews, focus on other aspects.\n\nRegards,\nKyle",
      "revId": "14b72e4209ee38600ae259bb13b60dcebb6c6c2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5dd90d42_d65daae0",
        "filename": "org.eclipse.jgit/pom.xml",
        "patchSetId": 2
      },
      "lineNbr": 52,
      "author": {
        "id": 304466
      },
      "writtenOn": "2023-01-31T03:02:56Z",
      "side": 1,
      "message": "Is it necessary? It\u0027s better to remove it.",
      "range": {
        "startLine": 48,
        "startChar": 1,
        "endLine": 52,
        "endChar": 0
      },
      "revId": "14b72e4209ee38600ae259bb13b60dcebb6c6c2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a64e6f16_622f0b8c",
        "filename": "org.eclipse.jgit/pom.xml",
        "patchSetId": 2
      },
      "lineNbr": 52,
      "author": {
        "id": 307612
      },
      "writtenOn": "2023-01-31T19:07:40Z",
      "side": 1,
      "message": "this is needed for the @VisibleForTesting annotation.",
      "parentUuid": "5dd90d42_d65daae0",
      "range": {
        "startLine": 48,
        "startChar": 1,
        "endLine": 52,
        "endChar": 0
      },
      "revId": "14b72e4209ee38600ae259bb13b60dcebb6c6c2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eae6b5d4_d97c2c1c",
        "filename": "org.eclipse.jgit/pom.xml",
        "patchSetId": 2
      },
      "lineNbr": 52,
      "author": {
        "id": 304466
      },
      "writtenOn": "2023-02-01T02:19:17Z",
      "side": 1,
      "message": "By the way, JGit uses both maven and bazel for package management.\n\nOnly modifying maven may not work.",
      "parentUuid": "a64e6f16_622f0b8c",
      "range": {
        "startLine": 48,
        "startChar": 1,
        "endLine": 52,
        "endChar": 0
      },
      "revId": "14b72e4209ee38600ae259bb13b60dcebb6c6c2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2586942c_908b8017",
        "filename": "org.eclipse.jgit/pom.xml",
        "patchSetId": 2
      },
      "lineNbr": 52,
      "author": {
        "id": 307612
      },
      "writtenOn": "2023-02-01T22:34:08Z",
      "side": 1,
      "message": "please explain `not work` in what regard.\n\nas far as i can tell, we don\u0027t duplicate dependencies for both package managements.",
      "parentUuid": "eae6b5d4_d97c2c1c",
      "range": {
        "startLine": 48,
        "startChar": 1,
        "endLine": 52,
        "endChar": 0
      },
      "revId": "14b72e4209ee38600ae259bb13b60dcebb6c6c2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7844a746_9567a786",
        "filename": "org.eclipse.jgit/pom.xml",
        "patchSetId": 2
      },
      "lineNbr": 52,
      "author": {
        "id": 307612
      },
      "writtenOn": "2023-02-02T00:22:48Z",
      "side": 1,
      "message": "removed.",
      "parentUuid": "2586942c_908b8017",
      "range": {
        "startLine": 48,
        "startChar": 1,
        "endLine": 52,
        "endChar": 0
      },
      "revId": "14b72e4209ee38600ae259bb13b60dcebb6c6c2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "289959dd_a2ff6fb5",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsGarbageCollector.java",
        "patchSetId": 2
      },
      "lineNbr": 767,
      "author": {
        "id": 304466
      },
      "writtenOn": "2023-01-31T03:02:56Z",
      "side": 1,
      "message": "We should judge whether it\u0027s a shallow repo in advance, if so, return and do nothing.\n\nrefer to [1].\n\n[1] https://git.eclipse.org/r/c/jgit/jgit/+/199262",
      "range": {
        "startLine": 767,
        "startChar": 3,
        "endLine": 767,
        "endChar": 25
      },
      "revId": "14b72e4209ee38600ae259bb13b60dcebb6c6c2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5b86c527_86e93624",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsGarbageCollector.java",
        "patchSetId": 2
      },
      "lineNbr": 767,
      "author": {
        "id": 307612
      },
      "writtenOn": "2023-01-31T19:07:40Z",
      "side": 1,
      "message": "why can\u0027t we simply generate commit graph upto the shalldow commits?",
      "parentUuid": "289959dd_a2ff6fb5",
      "range": {
        "startLine": 767,
        "startChar": 3,
        "endLine": 767,
        "endChar": 25
      },
      "revId": "14b72e4209ee38600ae259bb13b60dcebb6c6c2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "944e45ad_fbead14a",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsGarbageCollector.java",
        "patchSetId": 2
      },
      "lineNbr": 767,
      "author": {
        "id": 304466
      },
      "writtenOn": "2023-02-01T02:19:17Z",
      "side": 1,
      "message": "The shallow repo can be restored to a complete repo. Once the restoration is completed, the generation number we have calculated before will no longer be available.\n\nFor example:\n\nshallow repo : \na (0) \u003c- b (1)\n\nafter being restored to complate repo: \nc(Integer.MAX) \u003c- d(Integer.MAX) \u003c- a(0) \u003c- b (1)\n\nThe generation number of a should be 3, and b should be 4.\n\n\nIn addition, shallow commits are regarded as commits with no parents in the repo. If they are written into the commit-graph, the data will be inavaliable, too.",
      "parentUuid": "5b86c527_86e93624",
      "range": {
        "startLine": 767,
        "startChar": 3,
        "endLine": 767,
        "endChar": 25
      },
      "revId": "14b72e4209ee38600ae259bb13b60dcebb6c6c2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "25c7c30f_d4f79fd1",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsGarbageCollector.java",
        "patchSetId": 2
      },
      "lineNbr": 767,
      "author": {
        "id": 304466
      },
      "writtenOn": "2023-02-01T02:25:04Z",
      "side": 1,
      "message": "typo:\n\n\u003e a (0) \u003c- b (1)\n\na (1) \u003c- b (2)\n\n\u003e c(Integer.MAX) \u003c- d(Integer.MAX) \u003c- a(0) \u003c- b (1)\n\nc(Integer.MAX) \u003c- d(Integer.MAX) \u003c- a(1) \u003c- b (2)",
      "parentUuid": "944e45ad_fbead14a",
      "range": {
        "startLine": 767,
        "startChar": 3,
        "endLine": 767,
        "endChar": 25
      },
      "revId": "14b72e4209ee38600ae259bb13b60dcebb6c6c2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "18dc88d9_99730253",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsGarbageCollector.java",
        "patchSetId": 2
      },
      "lineNbr": 767,
      "author": {
        "id": 307612
      },
      "writtenOn": "2023-02-01T22:34:08Z",
      "side": 1,
      "message": "3 things: \n1. why not simply write a new commit graph with the new parents and new generation numbers in the event of restoration? \n\n2. also afaik, the dfsGarbageCollector is only used on the server side which does not need shallow repos, but I digress on this since the code does not stipulate any limitation on server side only uses. \n\n3. I\u0027ll stop the generate commit graph if there\u0027s shallow commits since the optimization is very limited (assuming the repo is truly shallow); the effort of generating and storing the commit graph is not worthy for shallow depth.",
      "parentUuid": "25c7c30f_d4f79fd1",
      "range": {
        "startLine": 767,
        "startChar": 3,
        "endLine": 767,
        "endChar": 25
      },
      "revId": "14b72e4209ee38600ae259bb13b60dcebb6c6c2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4f6d61c_ab3364d4",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsGarbageCollector.java",
        "patchSetId": 2
      },
      "lineNbr": 767,
      "author": {
        "id": 307612
      },
      "writtenOn": "2023-02-02T00:22:48Z",
      "side": 1,
      "message": "added shallow repo check for early return.",
      "parentUuid": "18dc88d9_99730253",
      "range": {
        "startLine": 767,
        "startChar": 3,
        "endLine": 767,
        "endChar": 25
      },
      "revId": "14b72e4209ee38600ae259bb13b60dcebb6c6c2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "67930401_d44acbe7",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsReader.java",
        "patchSetId": 2
      },
      "lineNbr": 126,
      "author": {
        "id": 304466
      },
      "writtenOn": "2023-01-31T03:02:56Z",
      "side": 1,
      "message": "nit: add comment /** {@inheritDoc} */",
      "range": {
        "startLine": 126,
        "startChar": 1,
        "endLine": 126,
        "endChar": 10
      },
      "revId": "14b72e4209ee38600ae259bb13b60dcebb6c6c2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6b67ff57_f7261993",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsReader.java",
        "patchSetId": 2
      },
      "lineNbr": 126,
      "author": {
        "id": 307612
      },
      "writtenOn": "2023-01-31T19:07:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "67930401_d44acbe7",
      "range": {
        "startLine": 126,
        "startChar": 1,
        "endLine": 126,
        "endChar": 10
      },
      "revId": "14b72e4209ee38600ae259bb13b60dcebb6c6c2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b06c913_515330bf",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsText.java",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 304466
      },
      "writtenOn": "2023-01-31T03:02:56Z",
      "side": 1,
      "message": "I didn\u0027t see this item in resources/org/eclipse/jgit/internal/storage/dfs/DfsText.properties, did you miss it?\n\nThis part is used for internationalization, you need to write\n```\ncannotReadCommitGraph\u003d...\n```",
      "range": {
        "startLine": 31,
        "startChar": 1,
        "endLine": 31,
        "endChar": 43
      },
      "revId": "14b72e4209ee38600ae259bb13b60dcebb6c6c2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b29d70f6_aab0b2c3",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsText.java",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 307612
      },
      "writtenOn": "2023-01-31T19:07:40Z",
      "side": 1,
      "message": "added",
      "parentUuid": "2b06c913_515330bf",
      "range": {
        "startLine": 31,
        "startChar": 1,
        "endLine": 31,
        "endChar": 43
      },
      "revId": "14b72e4209ee38600ae259bb13b60dcebb6c6c2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    }
  ]
}