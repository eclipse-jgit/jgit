{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ef0423f1_0aa27faf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 53
      },
      "lineNbr": 0,
      "author": {
        "id": 304273
      },
      "writtenOn": "2022-09-02T16:47:02Z",
      "side": 1,
      "message": "LGTM overall.\n\nI have mixed filling about the test coverage, since it is hard to verify that the existing test-cases cover all possible patch scenarios.\n\nBut looks like most common cases are covered and the code looks much cleaner overall.\n\nThank you for working on this!",
      "revId": "bb6bd5d30b629a1f1b96a04ce4f63e078fb56070",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6462bac0_f61bcdc8",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/PatchApplier.java",
        "patchSetId": 53
      },
      "lineNbr": 96,
      "author": {
        "id": 304273
      },
      "writtenOn": "2022-09-02T16:47:02Z",
      "side": 1,
      "message": "nit: Tree before what? maybe parentTree? \nRe comment: maybe \u0027Only non-null for inCore operation\u0027?",
      "range": {
        "startLine": 96,
        "startChar": 23,
        "endLine": 96,
        "endChar": 30
      },
      "revId": "bb6bd5d30b629a1f1b96a04ce4f63e078fb56070",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d9d5ed70_ad3139eb",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/PatchApplier.java",
        "patchSetId": 53
      },
      "lineNbr": 96,
      "author": {
        "id": 98905
      },
      "writtenOn": "2022-09-05T11:11:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6462bac0_f61bcdc8",
      "range": {
        "startLine": 96,
        "startChar": 23,
        "endLine": 96,
        "endChar": 30
      },
      "revId": "bb6bd5d30b629a1f1b96a04ce4f63e078fb56070",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ae80a123_e756f7aa",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/PatchApplier.java",
        "patchSetId": 53
      },
      "lineNbr": 184,
      "author": {
        "id": 98905
      },
      "writtenOn": "2022-09-05T11:11:02Z",
      "side": 1,
      "message": "see here.",
      "range": {
        "startLine": 184,
        "startChar": 7,
        "endLine": 184,
        "endChar": 18
      },
      "revId": "bb6bd5d30b629a1f1b96a04ce4f63e078fb56070",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d550ae9_b48a6ea5",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/PatchApplier.java",
        "patchSetId": 53
      },
      "lineNbr": 201,
      "author": {
        "id": 304273
      },
      "writtenOn": "2022-09-02T16:47:02Z",
      "side": 1,
      "message": "nit: /* create\u003d */",
      "range": {
        "startLine": 201,
        "startChar": 31,
        "endLine": 201,
        "endChar": 36
      },
      "revId": "bb6bd5d30b629a1f1b96a04ce4f63e078fb56070",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e9e85a60_8e039342",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/PatchApplier.java",
        "patchSetId": 53
      },
      "lineNbr": 201,
      "author": {
        "id": 98905
      },
      "writtenOn": "2022-09-05T11:11:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7d550ae9_b48a6ea5",
      "range": {
        "startLine": 201,
        "startChar": 31,
        "endLine": 201,
        "endChar": 36
      },
      "revId": "bb6bd5d30b629a1f1b96a04ce4f63e078fb56070",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f26a5418_4ac12b0a",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/PatchApplier.java",
        "patchSetId": 53
      },
      "lineNbr": 223,
      "author": {
        "id": 304273
      },
      "writtenOn": "2022-09-02T16:47:02Z",
      "side": 1,
      "message": "I guess it was just easier to assume that the file exists in apply, that is why we copy it, then modify?",
      "range": {
        "startLine": 221,
        "startChar": 9,
        "endLine": 223,
        "endChar": 52
      },
      "revId": "bb6bd5d30b629a1f1b96a04ce4f63e078fb56070",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d9a3046a_8df9b8e1",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/PatchApplier.java",
        "patchSetId": 53
      },
      "lineNbr": 223,
      "author": {
        "id": 98905
      },
      "writtenOn": "2022-09-05T11:11:02Z",
      "side": 1,
      "message": "right. But it doing \"atomic_move\" suggests you can\u0027t observe intermediate states. If the apply fails, you\u0027re still left with a half-written file.",
      "parentUuid": "f26a5418_4ac12b0a",
      "range": {
        "startLine": 221,
        "startChar": 9,
        "endLine": 223,
        "endChar": 52
      },
      "revId": "bb6bd5d30b629a1f1b96a04ce4f63e078fb56070",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c005dd66_104b570c",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/PatchApplier.java",
        "patchSetId": 53
      },
      "lineNbr": 403,
      "author": {
        "id": 304273
      },
      "writtenOn": "2022-09-02T16:47:02Z",
      "side": 1,
      "message": "Looks like the newPath file is present in the workingTree somehow on this path. Maybe this is specific to tests.",
      "range": {
        "startLine": 401,
        "startChar": 50,
        "endLine": 403,
        "endChar": 0
      },
      "revId": "bb6bd5d30b629a1f1b96a04ce4f63e078fb56070",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "76331674_bb965f77",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/PatchApplier.java",
        "patchSetId": 53
      },
      "lineNbr": 403,
      "author": {
        "id": 98905
      },
      "writtenOn": "2022-09-05T11:11:02Z",
      "side": 1,
      "message": "I don\u0027t know.",
      "parentUuid": "c005dd66_104b570c",
      "range": {
        "startLine": 401,
        "startChar": 50,
        "endLine": 403,
        "endChar": 0
      },
      "revId": "bb6bd5d30b629a1f1b96a04ce4f63e078fb56070",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6399456b_e22eaef0",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/PatchApplier.java",
        "patchSetId": 53
      },
      "lineNbr": 468,
      "author": {
        "id": 98905
      },
      "writtenOn": "2022-09-05T11:11:02Z",
      "side": 1,
      "message": "see here.",
      "revId": "bb6bd5d30b629a1f1b96a04ce4f63e078fb56070",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cd7e7d88_a4ee64d3",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/PatchApplier.java",
        "patchSetId": 53
      },
      "lineNbr": 468,
      "author": {
        "id": 304273
      },
      "writtenOn": "2022-09-06T08:03:48Z",
      "side": 1,
      "message": "Nit: Maybe add a line this is to check that the resulting Dce entry has same content (so same sha1) as the input of the patch?",
      "parentUuid": "6399456b_e22eaef0",
      "revId": "bb6bd5d30b629a1f1b96a04ce4f63e078fb56070",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0a0d4b76_e5ddf0a2",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/PatchApplier.java",
        "patchSetId": 53
      },
      "lineNbr": 468,
      "author": {
        "id": 98905
      },
      "writtenOn": "2022-09-06T08:17:03Z",
      "side": 1,
      "message": "that\u0027s what `fh.getNewId().toObjectId().equals(dce.getObjectId())` does, right? \n\nThe DCE has other things (eg. modification time) that aren\u0027t relevant to check, and aren\u0027t contained in the input patch, so we can\u0027t and shouldn\u0027t check the entire DCE.",
      "parentUuid": "cd7e7d88_a4ee64d3",
      "revId": "bb6bd5d30b629a1f1b96a04ce4f63e078fb56070",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "68b8c791_2e6e3853",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/PatchApplier.java",
        "patchSetId": 53
      },
      "lineNbr": 478,
      "author": {
        "id": 304273
      },
      "writtenOn": "2022-09-02T16:47:02Z",
      "side": 1,
      "message": "This logic used to be in WorkTreeUpdater, why was it moved/duplicated here?",
      "range": {
        "startLine": 478,
        "startChar": 24,
        "endLine": 478,
        "endChar": 36
      },
      "revId": "bb6bd5d30b629a1f1b96a04ce4f63e078fb56070",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8e61251d_18ee1ab9",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/PatchApplier.java",
        "patchSetId": 53
      },
      "lineNbr": 478,
      "author": {
        "id": 98905
      },
      "writtenOn": "2022-09-05T11:11:02Z",
      "side": 1,
      "message": "I\u0027ve made WorkTreeUpdater private to the merge package, so it\u0027s not accessible over here. The logic seems straightforward enough that the cost of copying it outweighs the cost of making WTU public.",
      "parentUuid": "68b8c791_2e6e3853",
      "range": {
        "startLine": 478,
        "startChar": 24,
        "endLine": 478,
        "endChar": 36
      },
      "revId": "bb6bd5d30b629a1f1b96a04ce4f63e078fb56070",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "38ee6b2f_a883c648",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/PatchApplier.java",
        "patchSetId": 53
      },
      "lineNbr": 729,
      "author": {
        "id": 304273
      },
      "writtenOn": "2022-09-02T16:47:02Z",
      "side": 1,
      "message": "There was a whole piece of logic that verifies the SHA1 of the new content.\nI think it is just gone?",
      "range": {
        "startLine": 726,
        "startChar": 3,
        "endLine": 729,
        "endChar": 57
      },
      "revId": "bb6bd5d30b629a1f1b96a04ce4f63e078fb56070",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "75454ddf_489aa4c1",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/PatchApplier.java",
        "patchSetId": 53
      },
      "lineNbr": 729,
      "author": {
        "id": 98905
      },
      "writtenOn": "2022-09-05T11:11:02Z",
      "side": 1,
      "message": "see l.468",
      "parentUuid": "38ee6b2f_a883c648",
      "range": {
        "startLine": 726,
        "startChar": 3,
        "endLine": 729,
        "endChar": 57
      },
      "revId": "bb6bd5d30b629a1f1b96a04ce4f63e078fb56070",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "87997fbe_9271ca07",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/PatchApplier.java",
        "patchSetId": 53
      },
      "lineNbr": 740,
      "author": {
        "id": 304273
      },
      "writtenOn": "2022-09-02T16:47:02Z",
      "side": 1,
      "message": "nit: formatting?",
      "range": {
        "startLine": 739,
        "startChar": 3,
        "endLine": 740,
        "endChar": 16
      },
      "revId": "bb6bd5d30b629a1f1b96a04ce4f63e078fb56070",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0fdfe3c3_0e93b512",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/PatchApplier.java",
        "patchSetId": 53
      },
      "lineNbr": 740,
      "author": {
        "id": 98905
      },
      "writtenOn": "2022-09-05T11:11:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "87997fbe_9271ca07",
      "range": {
        "startLine": 739,
        "startChar": 3,
        "endLine": 740,
        "endChar": 16
      },
      "revId": "bb6bd5d30b629a1f1b96a04ce4f63e078fb56070",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    }
  ]
}