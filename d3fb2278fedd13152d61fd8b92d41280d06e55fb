{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4c11a1f3_d6f62c09",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/commitgraph/CommitGraphBuilder.java",
        "patchSetId": 6
      },
      "lineNbr": 102,
      "author": {
        "id": 307612
      },
      "writtenOn": "2023-06-12T20:17:12Z",
      "side": 1,
      "message": "Can you make another field within the CommitGraphV1 for the bloom filter chunks? technically, the extraList should also logically be considered its own chunk per https://github.com/git/git/blob/master/Documentation/gitformat-commit-graph.txt#L94",
      "revId": "d3fb2278fedd13152d61fd8b92d41280d06e55fb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c578a27e_b29a218a",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/commitgraph/CommitGraphBuilder.java",
        "patchSetId": 6
      },
      "lineNbr": 102,
      "author": {
        "id": 150123
      },
      "writtenOn": "2023-06-13T21:40:26Z",
      "side": 1,
      "message": "Do you mean another argument to the constructor call (line 104)?",
      "parentUuid": "4c11a1f3_d6f62c09",
      "revId": "d3fb2278fedd13152d61fd8b92d41280d06e55fb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "be0b4922_40680f3e",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/commitgraph/CommitGraphBuilder.java",
        "patchSetId": 6
      },
      "lineNbr": 102,
      "author": {
        "id": 307612
      },
      "writtenOn": "2023-06-14T16:19:51Z",
      "side": 1,
      "message": "yes. another argument to fit a fields in CommitGraphV1 dedicated to just bloom filter index and bloom filter data. because according to the spec, the extraList, the bloomFilterIndex, the bloomFilterData don\u0027t belong within the commitDataChunk.",
      "parentUuid": "c578a27e_b29a218a",
      "revId": "d3fb2278fedd13152d61fd8b92d41280d06e55fb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e4a4cf21_a5752827",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/commitgraph/GraphCommitData.java",
        "patchSetId": 6
      },
      "lineNbr": 92,
      "author": {
        "id": 307612
      },
      "writtenOn": "2023-06-12T20:17:12Z",
      "side": 1,
      "message": "we should make this logically matches https://github.com/git/git/blob/master/Documentation/gitformat-commit-graph.txt#L94, so the bloom filter chunks should have their own get/chunk lookup methods.",
      "revId": "d3fb2278fedd13152d61fd8b92d41280d06e55fb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "487dfc68_ae3509b2",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/commitgraph/GraphCommitData.java",
        "patchSetId": 6
      },
      "lineNbr": 92,
      "author": {
        "id": 150123
      },
      "writtenOn": "2023-06-13T21:40:26Z",
      "side": 1,
      "message": "Hmm...the API should be what is clearest for its users, not what is on the disk.",
      "parentUuid": "e4a4cf21_a5752827",
      "revId": "d3fb2278fedd13152d61fd8b92d41280d06e55fb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eba9c065_0757a889",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/commitgraph/GraphCommitData.java",
        "patchSetId": 6
      },
      "lineNbr": 92,
      "author": {
        "id": 307612
      },
      "writtenOn": "2023-06-14T16:19:51Z",
      "side": 1,
      "message": "Ah. I see, the CommitData here isn\u0027t a 1 to 1 mapping to the CommitDataChunk, though the naming are similar. I was under the impression that we have a getter for each chunk of data, but what you doing here is having CommitData containing all data from all chunks. Maybe we can use a new name for this container and reserve the term \"CommitData\" to just the chunk. Maybe \"CommitMeta\"?",
      "parentUuid": "487dfc68_ae3509b2",
      "revId": "d3fb2278fedd13152d61fd8b92d41280d06e55fb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a302a524_d84cf5da",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/commitgraph/GraphCommitData.java",
        "patchSetId": 6
      },
      "lineNbr": 92,
      "author": {
        "id": 307612
      },
      "writtenOn": "2023-06-26T17:23:04Z",
      "side": 1,
      "message": "actually, see CommitData comment under CommitGraph.java, \"Metadata of a commit in commit data chunk.\" I think it\u0027s fine that we use the GraphCommitData as the in-memory container for all data chunks, but we should split the data into their on getter methods base on their chunk when getting them from GraphCommitData; i.e. getCommitData only gets you the CommitData chunk, getChangedPathFilter only gets you the bloom filter data, etc",
      "parentUuid": "eba9c065_0757a889",
      "revId": "d3fb2278fedd13152d61fd8b92d41280d06e55fb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2ee8add1_e2a8161b",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/commitgraph/GraphCommitData.java",
        "patchSetId": 6
      },
      "lineNbr": 92,
      "author": {
        "id": 307612
      },
      "writtenOn": "2023-06-26T17:29:33Z",
      "side": 1,
      "message": "the more i read this, the more i realize our approach is wrong. \nGraphCommitData\u0027s comment literally states that it\u0027s \"Represent the collection of {@link CommitData}.\" and CommitData is only meant to represent data from the commit data chunk as in its comment, \"Metadata of a commit in commit data chunk.\" You should make a new collection class similar to GraphCommitData to only contain bloom filter data under the CommitGraphV1 class.",
      "parentUuid": "a302a524_d84cf5da",
      "revId": "d3fb2278fedd13152d61fd8b92d41280d06e55fb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5f64d80_31396823",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/commitgraph/GraphCommitData.java",
        "patchSetId": 6
      },
      "lineNbr": 92,
      "author": {
        "id": 150123
      },
      "writtenOn": "2023-07-05T22:37:32Z",
      "side": 1,
      "message": "Is this comment still relevant? We have getCommitData() and getChangedPathFilter().",
      "parentUuid": "2ee8add1_e2a8161b",
      "revId": "d3fb2278fedd13152d61fd8b92d41280d06e55fb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77a70d0f_197698af",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/commitgraph/GraphCommitData.java",
        "patchSetId": 6
      },
      "lineNbr": 92,
      "author": {
        "id": 307612
      },
      "writtenOn": "2023-07-06T15:01:27Z",
      "side": 1,
      "message": "yes, it\u0027s still relevant. bloom filter data don\u0027t belong to this class. See my June 26 comments. Suggestion: make a GraphBloomFilterData class and put it in CommitGraphV1 parallel with the GraphCommitData.",
      "parentUuid": "d5f64d80_31396823",
      "revId": "d3fb2278fedd13152d61fd8b92d41280d06e55fb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fc05fdbf_406f6d38",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/commitgraph/GraphCommitData.java",
        "patchSetId": 6
      },
      "lineNbr": 92,
      "author": {
        "id": 150123
      },
      "writtenOn": "2023-07-10T17:23:46Z",
      "side": 1,
      "message": "\u003e You should make a new collection class similar to GraphCommitData to only contain bloom filter data under the CommitGraphV1 class.\n\nGoing back to what I said earlier about the API being what is clearest for our users, I think it\u0027s clearer if GraphCommitData contains everything related to commits. If it\u0027s a question of the javadoc, we can change it.",
      "parentUuid": "77a70d0f_197698af",
      "revId": "d3fb2278fedd13152d61fd8b92d41280d06e55fb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "65cd4eac_a0d23de5",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/commitgraph/GraphCommitData.java",
        "patchSetId": 6
      },
      "lineNbr": 92,
      "author": {
        "id": 201156
      },
      "writtenOn": "2023-07-10T19:01:59Z",
      "side": 1,
      "message": "From the user point of view, there is just a commitGraph.getChangedPathsFilter(position) (as it should be).\n\nThis is about how to store things internally in memory. We split the chunks in the storage into two java classes (so far):\n1. The index (with the fanout and the object ids, to find positions) \n2. The CommitGraph data (the metadata for the commit, abstracting the \"extra edges\", so representing those two chunks).\n\nThe bloom filters are not related to the rest of \"commit data\" (you could even have bloom filters without the commit data!). I think it makes sense to store them in a 3rd java class:\n3. The GraphBloomFilter data (bloom filters abstracting the overflow chunk if present)\n\nThe commitGraph#getChangedPathsFilter(position) would then do  bloomFiltersData.getChangedPathFilter(position) instead of commitGraphData.getChangedPathFilter(position).",
      "parentUuid": "fc05fdbf_406f6d38",
      "revId": "d3fb2278fedd13152d61fd8b92d41280d06e55fb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    }
  ]
}