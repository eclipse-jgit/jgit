{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "2911cd1d_5bea9763",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1037694
      },
      "writtenOn": "2024-02-26T17:08:09Z",
      "side": 1,
      "message": "the RewriteGenerator expects whatever combination of generators (in this case, g) to have TreeRevFilter in them; g could be a chain of different generators, as long at least one of them have TreeRevFilter, the rewriteGenerator would work. \n\nthe ideal way to always ensure the rewriteGenerator works regardless where it\u0027s constructed from, is to run a dfs into the g being passed in. To do this, we have to have a method for every RevFilter implementation to check whether they are capable of applying the TreeRevFilter flag. The dfs would then choose to fail the constructor if dfs can\u0027t find a TreeRevFilter in the generator chain. This approach would require refactoring every generator class and every revFilter implementation. \n\ngiven the rewriteGenerator is only constructed in startGenerator atm and L131 can\u0027t be called without L109, I am not prioritizing such comprehensive change.\n\nabandoning this change.",
      "revId": "736bfad89f7e6302231132b657594814241dc88e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "112e79d7_801cb240",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/revwalk/StartGenerator.java",
        "patchSetId": 1
      },
      "lineNbr": 130,
      "author": {
        "id": 1037784
      },
      "writtenOn": "2024-02-26T09:52:53Z",
      "side": 1,
      "message": "Shouldn\u0027t this fail at this point instead of skipping `g \u003d new RewriteGenerator(g)`?",
      "revId": "736bfad89f7e6302231132b657594814241dc88e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bde1e6b8_b84aadad",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/revwalk/StartGenerator.java",
        "patchSetId": 1
      },
      "lineNbr": 130,
      "author": {
        "id": 1037694
      },
      "writtenOn": "2024-02-26T17:07:32Z",
      "side": 1,
      "message": "the more i think about this code change, i don\u0027t believe this code change is needed at all. \n\nthis is only place the rewriteGenerator is being created, and people can\u0027t created the generator without going through L109 which has the TreeRevFilter\n\nif there\u0027s going to be a future change that people create rewriteGenerator without TreeRevFilter, that\u0027s up to the reviewer and maintainer to catch in review.",
      "parentUuid": "112e79d7_801cb240",
      "revId": "736bfad89f7e6302231132b657594814241dc88e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "89d6ced9_8153a150",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/revwalk/StartGenerator.java",
        "patchSetId": 1
      },
      "lineNbr": 130,
      "author": {
        "id": 1037784
      },
      "writtenOn": "2024-02-26T18:10:48Z",
      "side": 1,
      "message": "But this change here would make it easier for future maintainer and reviewer to catch this particular failure mode. This change here would make the reviewers of https://review.gerrithub.io/c/eclipse-jgit/jgit/+/1177216 take a second look and say \"oh wait, we\u0027re not setting a TreeRevFilter\"",
      "parentUuid": "bde1e6b8_b84aadad",
      "revId": "736bfad89f7e6302231132b657594814241dc88e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4bfaee38_81b3cd24",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/revwalk/StartGenerator.java",
        "patchSetId": 1
      },
      "lineNbr": 130,
      "author": {
        "id": 1037694
      },
      "writtenOn": "2024-02-26T18:26:21Z",
      "side": 1,
      "message": "the so called \"failure mode\" only happens if people submit code without understanding the nature of RewriteGenerator first. i.e. it\u0027s a result of people submitting changes without fully understanding what they are changing.\n\nany future change to allow such \"failure mode\" to happen would explicitly state something like \"create RewriteGenerator without a TreeRevFilter\" in the description, so it\u0027s up to the maintainers and reviewers to have domain knowledge to block it accordingly.",
      "parentUuid": "89d6ced9_8153a150",
      "revId": "736bfad89f7e6302231132b657594814241dc88e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ],
  "submitRequirementResults": []
}