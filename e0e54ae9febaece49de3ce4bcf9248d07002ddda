{
  "comments": [
    {
      "key": {
        "uuid": "d4c9957f_62f59be3",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/FileHeader.java",
        "patchSetId": 4
      },
      "lineNbr": 242,
      "author": {
        "id": 97483
      },
      "writtenOn": "2022-03-07T22:24:17Z",
      "side": 1,
      "message": "charsetGuess \u003d\u003d null || (charsetGuess.length \u003e 0 \u0026\u0026 charsetGuess[0] \u003d\u003d null)",
      "range": {
        "startLine": 242,
        "startChar": 6,
        "endLine": 242,
        "endChar": 26
      },
      "revId": "e0e54ae9febaece49de3ce4bcf9248d07002ddda",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1659ad43_804ac6d9",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/FileHeader.java",
        "patchSetId": 4
      },
      "lineNbr": 242,
      "author": {
        "id": 241433
      },
      "writtenOn": "2022-03-10T15:17:43Z",
      "side": 1,
      "message": "Will do in a followup change.",
      "parentUuid": "d4c9957f_62f59be3",
      "range": {
        "startLine": 242,
        "startChar": 6,
        "endLine": 242,
        "endChar": 26
      },
      "revId": "e0e54ae9febaece49de3ce4bcf9248d07002ddda",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "863c930a_11eda1bb",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/FileHeader.java",
        "patchSetId": 4
      },
      "lineNbr": 245,
      "author": {
        "id": 97483
      },
      "writtenOn": "2022-03-07T09:08:18Z",
      "side": 1,
      "message": "Charset is an abstract class that implements a Comparable interface, which means all subclass would have to implement the compareTo() method, which returns zero if objects are the same.\n\nIt would make sense to change this to:\nif(charsetGuess[i].compareTo(charsetGuess[0]) !\u003d 0)",
      "range": {
        "startLine": 245,
        "startChar": 8,
        "endLine": 245,
        "endChar": 56
      },
      "revId": "e0e54ae9febaece49de3ce4bcf9248d07002ddda",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cbe34f46_5e13cbdd",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/FileHeader.java",
        "patchSetId": 4
      },
      "lineNbr": 245,
      "author": {
        "id": 88043
      },
      "writtenOn": "2022-03-07T22:17:30Z",
      "side": 1,
      "message": "according to @Thomas (see earlier comments) one of them can be `null`...",
      "parentUuid": "863c930a_11eda1bb",
      "range": {
        "startLine": 245,
        "startChar": 8,
        "endLine": 245,
        "endChar": 56
      },
      "revId": "e0e54ae9febaece49de3ce4bcf9248d07002ddda",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "64801cbf_bc50e585",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/FileHeader.java",
        "patchSetId": 4
      },
      "lineNbr": 245,
      "author": {
        "id": 97483
      },
      "writtenOn": "2022-03-07T22:24:17Z",
      "side": 1,
      "message": "Should the check be then:\ncharsetGuess[i] \u003d\u003d null || charsetGuess[0].compareTo(charsetGuess[i]) !\u003d 0",
      "parentUuid": "cbe34f46_5e13cbdd",
      "range": {
        "startLine": 245,
        "startChar": 8,
        "endLine": 245,
        "endChar": 56
      },
      "revId": "e0e54ae9febaece49de3ce4bcf9248d07002ddda",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "43f8f4ae_2d19b361",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/FileHeader.java",
        "patchSetId": 4
      },
      "lineNbr": 245,
      "author": {
        "id": 88043
      },
      "writtenOn": "2022-03-08T06:50:47Z",
      "side": 1,
      "message": "I\u0027m probably missing sth important here but AFAIU code checks if two characters are not equal and `Objects.equals` was meant to do just that (nulls are taken care etc...)...\n\nNow here:\n\n  charsetGuess[i] \u003d\u003d null || charsetGuess[0].compareTo(charsetGuess[i]) !\u003d 0\n\nwhat if `charsetGuess[0]` is actually `null`? AFAICT we are starting from index `1` hence it is never checked. Would it result in NPE then?",
      "parentUuid": "64801cbf_bc50e585",
      "range": {
        "startLine": 245,
        "startChar": 8,
        "endLine": 245,
        "endChar": 56
      },
      "revId": "e0e54ae9febaece49de3ce4bcf9248d07002ddda",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "59188795_86482900",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/FileHeader.java",
        "patchSetId": 4
      },
      "lineNbr": 245,
      "author": {
        "id": 241433
      },
      "writtenOn": "2022-03-08T09:16:58Z",
      "side": 1,
      "message": "+1 for JC comment. What would be the issue with using `Objects.equals`?",
      "parentUuid": "43f8f4ae_2d19b361",
      "range": {
        "startLine": 245,
        "startChar": 8,
        "endLine": 245,
        "endChar": 56
      },
      "revId": "e0e54ae9febaece49de3ce4bcf9248d07002ddda",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "035f43f6_7c942fb3",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/FileHeader.java",
        "patchSetId": 4
      },
      "lineNbr": 245,
      "author": {
        "id": 241433
      },
      "writtenOn": "2022-03-09T16:50:25Z",
      "side": 1,
      "message": "Looks like the only methods a Charset will have to implement are `contains`, `newDecoder` and `newEncoder`. Furthermore, `compareTo` is final [1].\n\nHowever, if you think using `Objects.equals` could cause problems, to minimize the checks, I could use compareTo this way:\n\n    charsetGuess[0] \u003d\u003d null || charsetGuess[0].compareTo(charsetGuess[i]) !\u003d 0\n\nWDYT?\n\n\n[1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/nio/charset/Charset.html#compareTo(java.nio.charset.Charset)",
      "parentUuid": "59188795_86482900",
      "range": {
        "startLine": 245,
        "startChar": 8,
        "endLine": 245,
        "endChar": 56
      },
      "revId": "e0e54ae9febaece49de3ce4bcf9248d07002ddda",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0dedd4d_d2fd742b",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/patch/FileHeader.java",
        "patchSetId": 4
      },
      "lineNbr": 245,
      "author": {
        "id": 241433
      },
      "writtenOn": "2022-03-10T15:17:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "035f43f6_7c942fb3",
      "range": {
        "startLine": 245,
        "startChar": 8,
        "endLine": 245,
        "endChar": 56
      },
      "revId": "e0e54ae9febaece49de3ce4bcf9248d07002ddda",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}