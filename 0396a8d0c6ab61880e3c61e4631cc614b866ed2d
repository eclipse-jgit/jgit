{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "9da3f866_412d1dc4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 201156
      },
      "writtenOn": "2022-12-12T23:27:45Z",
      "side": 1,
      "message": "Lets wait for the changes in the ObjectDatabase interface to land before reviewing this.",
      "revId": "0396a8d0c6ab61880e3c61e4631cc614b866ed2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3c09ff2d_fd73b678",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsObjDatabase.java",
        "patchSetId": 4
      },
      "lineNbr": 287,
      "author": {
        "id": 201156
      },
      "writtenOn": "2022-12-12T23:27:45Z",
      "side": 1,
      "message": "https://git.eclipse.org/r/c/jgit/jgit/+/183078/33 adds an ObjectDatabase#getCommitGraph method that should be implemented here. \n\nI think that the caller shouldn\u0027t see a stack at this level of abstraction.",
      "revId": "0396a8d0c6ab61880e3c61e4631cc614b866ed2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5577ad0f_d5023e22",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsObjDatabase.java",
        "patchSetId": 4
      },
      "lineNbr": 287,
      "author": {
        "id": 256613
      },
      "writtenOn": "2023-01-12T01:42:37Z",
      "side": 1,
      "message": "+1.\n\nRight now we should scan pack list, select the only GC pack we have here and if it has CommitGraph - return it.",
      "parentUuid": "3c09ff2d_fd73b678",
      "revId": "0396a8d0c6ab61880e3c61e4631cc614b866ed2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3ff225e8_4223b9cb",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsObjDatabase.java",
        "patchSetId": 4
      },
      "lineNbr": 287,
      "author": {
        "id": 307612
      },
      "writtenOn": "2023-01-23T22:21:14Z",
      "side": 1,
      "message": "this comment no longer applied since Kyle moved getCommitGraph into FileObjectDatabase which diverges from dfs.\n\n\u003e\u003eI think that the caller shouldn\u0027t see a stack at this level of abstraction.\nnot following. the existing approach is also how we are getting reftable from packlist atm.",
      "parentUuid": "5577ad0f_d5023e22",
      "revId": "0396a8d0c6ab61880e3c61e4631cc614b866ed2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f3741858_3020ca32",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsObjDatabase.java",
        "patchSetId": 4
      },
      "lineNbr": 287,
      "author": {
        "id": 201156
      },
      "writtenOn": "2023-01-25T00:10:57Z",
      "side": 1,
      "message": "\u003e this comment no longer applied since Kyle moved getCommitGraph into FileObjectDatabase which diverges from dfs.\n\nKinda correct. We decided not to put the getCommitGraph() method in the ObjectDatabase interface. The readers know their specific object-db classes, no need to abstract it.\n\n\u003e Right now we should scan pack list, select the only GC pack we have here and if it has CommitGraph - return it.\n\nDemetr was pushing for this implementation, that (IIUC) it would shortcut the DFS abstraction. We are going to implement it following the rest of DFS \"files\".",
      "parentUuid": "3ff225e8_4223b9cb",
      "revId": "0396a8d0c6ab61880e3c61e4631cc614b866ed2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "01181715_17cd1324",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsObjDatabase.java",
        "patchSetId": 4
      },
      "lineNbr": 609,
      "author": {
        "id": 256613
      },
      "writtenOn": "2023-01-12T01:42:37Z",
      "side": 1,
      "message": "We don\u0027t need this method. One about reftables is needed because we have DfsReftableBatchRefUpdate, this is not the case for commit graphs.",
      "range": {
        "startLine": 583,
        "startChar": 0,
        "endLine": 609,
        "endChar": 2
      },
      "revId": "0396a8d0c6ab61880e3c61e4631cc614b866ed2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0e906232_db7f8665",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsObjDatabase.java",
        "patchSetId": 4
      },
      "lineNbr": 609,
      "author": {
        "id": 307612
      },
      "writtenOn": "2023-01-23T22:21:14Z",
      "side": 1,
      "message": "this method by itself has no dependency on other classes, it simply adjust the packlist based on what the caller wants to modify. I agree that the current code might be changed when we actually have stackable commit graph but there\u0027s nothing logical wrong about this code right now.",
      "parentUuid": "01181715_17cd1324",
      "range": {
        "startLine": 583,
        "startChar": 0,
        "endLine": 609,
        "endChar": 2
      },
      "revId": "0396a8d0c6ab61880e3c61e4631cc614b866ed2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "70ee3c61_e840239e",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsObjDatabase.java",
        "patchSetId": 4
      },
      "lineNbr": 609,
      "author": {
        "id": 201156
      },
      "writtenOn": "2023-01-25T00:10:57Z",
      "side": 1,
      "message": "I suspect that Demetr meant that this method for Reftables was here so DfsReftableBatchRefUpdate could do a immediate update of the reftables on an open repository.\n\nFor commit-graphs, there are no \"hot updates\": only reopening the repo will reload the commit-graph, so we are fine without it.\n\nI don\u0027t this very well, so I would say if you don\u0027t find caller for it, do not add it (we can always add it later)",
      "parentUuid": "0e906232_db7f8665",
      "range": {
        "startLine": 583,
        "startChar": 0,
        "endLine": 609,
        "endChar": 2
      },
      "revId": "0396a8d0c6ab61880e3c61e4631cc614b866ed2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b331116a_4b16297b",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsObjDatabase.java",
        "patchSetId": 4
      },
      "lineNbr": 609,
      "author": {
        "id": 307612
      },
      "writtenOn": "2023-01-25T18:12:20Z",
      "side": 1,
      "message": "removed",
      "parentUuid": "70ee3c61_e840239e",
      "range": {
        "startLine": 583,
        "startChar": 0,
        "endLine": 609,
        "endChar": 2
      },
      "revId": "0396a8d0c6ab61880e3c61e4631cc614b866ed2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "31ee8667_953b8d5a",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsPackDescription.java",
        "patchSetId": 4
      },
      "lineNbr": 128,
      "author": {
        "id": 256613
      },
      "writtenOn": "2023-01-12T01:42:37Z",
      "side": 1,
      "message": "It\u0027s not needed right now and we probably won\u0027t have same logic as reftable has, so please remove it",
      "range": {
        "startLine": 116,
        "startChar": 0,
        "endLine": 128,
        "endChar": 2
      },
      "revId": "0396a8d0c6ab61880e3c61e4631cc614b866ed2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "74c573ed_06d23cfa",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsPackDescription.java",
        "patchSetId": 4
      },
      "lineNbr": 128,
      "author": {
        "id": 307612
      },
      "writtenOn": "2023-01-23T22:21:14Z",
      "side": 1,
      "message": "there\u0027s nothing logically wrong about this comparator now; it fits our usage of prioritizing GC generated commit graph first for the near future.",
      "parentUuid": "31ee8667_953b8d5a",
      "range": {
        "startLine": 116,
        "startChar": 0,
        "endLine": 128,
        "endChar": 2
      },
      "revId": "0396a8d0c6ab61880e3c61e4631cc614b866ed2d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31"
    }
  ]
}